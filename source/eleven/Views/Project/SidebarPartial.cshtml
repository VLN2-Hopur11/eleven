@model eleven.Models.ViewModels.ProjectViewModel

<div class="navbar navbar-inverse navbar-fixed-right" id="rightsidebar">
    
    <div style="position: fixed;">
        <button id="newfile" class="btn btn-primary">New File</button>
        <section id="newfileform" class="hidden sideMenu">
            @using (Html.BeginForm("NewFile", "Project", FormMethod.Post))
            {
                <input placeholder="Filename" id="newfilename" type="text" name="newFilename" />
                <input type="hidden" name="projectId" value=@Model.project.Id />
                <button type="submit" class="btn btn-primary">Create File</button>
            }
        </section>
        <br />
        <button id="newfolder" class="btn btn-primary">New Folder</button>
        <section id="newfolderform" class="hidden sideMenu">
            @using (Html.BeginForm("NewFolder", "Project", FormMethod.Post))
            {
                <input placeholder="Folder Name" id="newfoldername" type="text" name="newFoldername" />
                <input type="hidden" name="projectId" value=@Model.project.Id />
                <button type="submit" class="btn btn-primary">Create Folder</button>
            }
        </section>

        @*Ég er að testa filetree hérna*@
                
        <ul id="explorer">
            @foreach (var item in Model.project.files)
            {
                <li>
                    @Html.ActionLink(item.name, "setActiveFile", "Project", new { fileId = item.Id, projectId = Model.project.Id }, null)
                </li>
            }
        </ul>

        @*
            //////////////////// Hvar er folder_Id geymt eiginlega, afhverju er það í dbo.Files en hvergi annarsstaðar??
        <div>
            @foreach (var item in Model.project.folders)
            {
                <input id="n-0" type="checkbox">
                <label for="n-0">@Model.folders.name</label>
                <div class="sub">
                    @foreach (var subitem in Model.project.files.Where(n => n))
                    {

                    }
                    <a href="#link">Plague Rats</a>
                    <a href="#link">Sengir Vampire</a>
                </div>
            }
            foreach(var person in people.Where(n => n.sex == "male"))
            {
            }

        </div>
        *@
        @*filetree testing endar hérna*@
    </div>

    <ul class="nav navbar-nav">
        <li style="bottom: 0; position: fixed;">
            <button id="inviteuser" class="btn btn-primary">Invite User</button>
            <section id="invitationform" class="hidden sideMenu">
                @using (Html.BeginForm("InviteUser", "Project", FormMethod.Post))
                {
                    <input placeholder="User Email" id="emailinvite" type="text" name="email" />
                    <input type="hidden" name="projectId" value=@Model.project.Id />
                    <button type="submit" class="btn btn-primary">Send Invitation</button>
                }
            </section>
        </li>
    </ul>
    </div>
    @section scripts
    {
        <script>
            //sidebar hide and show file function
            $(document).ready(function() {

                var hideLink = document.getElementById("hideText");
                var file = document.getElementById("file");

                hideLink.onclick = function() {
                    file.style.display ="none";

                    if(file.style.display == "none") {
                        var showLink = document.getElementById("hideText");
                        showLink.onclick = function() {
                            file.style.display="initial";
                            return false;
                        }
                    }
                    return false;
                }
            })
        </script>   
    }
